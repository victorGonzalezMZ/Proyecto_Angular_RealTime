<button class="open-button btn btn-primary" type="button" (click)="openConnectedUsers()" id="openBtn">Chat</button>

<div class="position-fixed bottom-0 end-0 bg-light border" style="height: 90%; width: 340px;" [style.display]="openConnectedUser ? 'block' : 'none'">
  <div class=" d-flex flex-row p-3 mb-2 bg-primary text-white justify-content-center">
    <div class="bd-highlight mr-2">
      <h4>Usuarios Conectados</h4>
    </div>
    <div class="bd-highlight ml-2">
      <button class="btn btn-danger" type="button" (click)="closeChat()">
        <i class="fas fa-times text-white-500"></i>
      </button>
    </div>
  </div>
  <div class=" d-flex p-2 mb-2 flex-column overflow-auto" *ngFor="let user of listUsers">
    <a class="nav-link border-bottom" href="javascript:void(0)" role="button" (click)="openChat(user.nombreCompleto,user.fotoURL)">
      <img class="rounded-circle" style="max-height: 40px; max-width: 40px;" src="{{user.fotoURL}}">
      <span class="ml-2 d-none d-lg-inline text-gray-600 small" id=''>{{user.nombreCompleto}}</span>
    </a>
  </div>
</div>

<div class="position-fixed bottom-0 end-0 bg-white border" style="height: 90%; width: 400px;" [style.display]="openChatWindow ? 'block' : 'none'">
  <div class=" d-flex flex-row p-3 mb-2 bg-primary text-white justify-content-center">
    <div class="bd-highlight mr-2">
      <h5>
        <img class="rounded-circle" style="max-height: 40px; max-width: 40px;" src="{{userpicture}}">
        {{userReceiver}}
      </h5>
    </div>
    <div class="bd-highlight ml-2">
      <button class="btn btn-danger" type="button" (click)="closeChat()">
        <i class="fas fa-times text-white-500"></i>
      </button>
    </div>
  </div>

  <div class="p-3">

    <div class="d-flex flex-column bg-light overflow-auto mb-2" style="width: 100%; height: 500px;" >
      <div class="row" *ngFor="let item of listMessages">
        <span class="d-none d-lg-inline small" id=''>
          <i class="mr-2">{{item.msgDate}}</i> <b>{{item.userSender}}:</b> {{item.message}}
        </span>
      </div>
    </div>

    <form>
      <div class="d-flex flex-row">
        <input type="text" class="form-control mr-2" #message/>
        <button class="btn btn-success" type="button" (click)="sendMessage(message.value); message.value=''" >Enviar</button>
      </div>
    </form>

  </div>
</div>
